webpackJsonp([2],{"5+O1":function(t,e){},"5OHe":function(t,e){},"7xIN":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("/xf8"),a=n("KGCO"),i=function(){return n.e(0).then(n.bind(null,"RfIB"))},r=function(){return n.e(0).then(n.bind(null,"xiTO"))},l=function(){return n.e(0).then(n.bind(null,"tkmd"))},s=function(){return n.e(0).then(n.bind(null,"iIWV"))},u=function(){return n.e(0).then(n.bind(null,"hwNz"))},c=function(){return n.e(0).then(n.bind(null,"9nco"))},m=function(){return n.e(0).then(n.bind(null,"0L0l"))},h=function(){return n.e(0).then(n.bind(null,"+OcK"))},d=function(){return n.e(0).then(n.bind(null,"1G1w"))},p=function(){return n.e(0).then(n.bind(null,"1F8b"))},f=function(){return n.e(0).then(n.bind(null,"nzdq"))},g=function(){return n.e(0).then(n.bind(null,"uH1Y"))},w=function(){return n.e(0).then(n.bind(null,"Tc8H"))},v=function(){return n.e(0).then(n.bind(null,"Xoab"))},y=function(){return n.e(0).then(n.bind(null,"cB/G"))},b=function(){return n.e(0).then(n.bind(null,"3QXq"))},I=function(){return n.e(0).then(n.bind(null,"G/Gk"))},$=function(){return n.e(0).then(n.bind(null,"ekg9"))},M=function(){return n.e(0).then(n.bind(null,"TT3t"))},k=function(){return n.e(0).then(n.bind(null,"e3UK"))},S={mode:"history",routes:[{path:"/",redirect:"login"},{path:"/login",name:"login",component:function(){return n.e(0).then(n.bind(null,"ttVv"))},meta:{showfoot:!1}},{path:"/mation",name:"mation",component:function(){return n.e(0).then(n.bind(null,"53YT"))},meta:{title:"系统设置",showfoot:!1},children:[{path:"personSpace",name:"personSpace",component:function(){return n.e(0).then(n.bind(null,"7zuX"))},meta:{title:"个人中心",showfoot:!1}},{path:"setDefaultPage",name:"setDefaultPage",component:function(){return n.e(0).then(n.bind(null,"PZrb"))},meta:{title:"设置默认首页",showfoot:!1}},{path:"setNewPassword",name:"setNewPassword",component:function(){return n.e(0).then(n.bind(null,"ECAN"))},meta:{title:"修改密码",showfoot:!1}},{path:"versionsMsg",name:"versionsMsg",component:function(){return n.e(0).then(n.bind(null,"eVJX"))},meta:{title:"版本信息",showfoot:!1}}]},{path:"/video",name:"video",component:function(){return n.e(0).then(n.bind(null,"Qwor"))},meta:{showfoot:!0}},{path:"/alert",name:"alert",component:function(){return n.e(0).then(n.bind(null,"VHuV"))},meta:{showfoot:!0}},{path:"/home",name:"home",component:function(){return n.e(0).then(n.bind(null,"fzSk"))},meta:{showfoot:!0},children:[{path:"watcher",name:"homewatcher",component:I,meta:{title:"值班监视",showfoot:!0}},{path:"StaInformation",name:"homeStaInformation",component:$,meta:{title:"投资电站信息",showfoot:!0}},{path:"adminiManual",name:"homeadminiManual",component:M,meta:{title:"管理手册",showfoot:!0}},{path:"water",name:"homewater",component:i,meta:{title:"枢纽运行",showfoot:!0}},{path:"river",name:"homeriver",component:r,meta:{title:"流域信息查询",showfoot:!0}},{path:"singleQuery",name:"homeSingleQuery",component:l,meta:{title:"单站数据查询",showfoot:!0}},{path:"composite",name:"homecomposite",component:s,meta:{title:"综合查询",showfoot:!0}},{path:"curve",name:"menucurve",component:u,meta:{title:"曲线查询",showfoot:!0}},{path:"mreport",name:"menureport",component:c,meta:{title:"报表查询",showfoot:!0}},{path:"waterAndElectricity",name:"homewaterAndElectricity",component:m,meta:{title:"水电概况",showfoot:!0}},{path:"hostWatch",name:"homehostWatch",component:h,meta:{title:"主机监视",showfoot:!0}},{path:"damMonitor",name:"homedamMonitor",component:d,meta:{title:"大坝监测",showfoot:!0}},{path:"unitData",name:"homeunitData",component:p,meta:{title:"机组数据",showfoot:!0}},{path:"recondition",name:"homerecondition",component:f,meta:{title:"检修工作票",showfoot:!0}},{path:"logBook",name:"homelogBook",component:g,meta:{title:"值班日志",showfoot:!0}},{path:"workManagement",name:"homeworkManagement",component:w,meta:{title:"排班管理",showfoot:!0}},{path:"drinkManagement",name:"homedrinkManagement",component:k,meta:{title:"引水管理",showfoot:!0}},{path:"orderQuery",name:"homeorderQuery",component:v,meta:{title:"闸门命令查询",showfoot:!0}},{path:"orderDetail/:id",name:"homeorderDetail",component:y,meta:{title:"闸门命令详情",showfoot:!0}},{path:"lockGate",name:"homelockGate",component:b,meta:{title:"闸门一览表",showfoot:!0}}]},{path:"/menu",name:"menu",component:function(){return n.e(0).then(n.bind(null,"EDyV"))},meta:{showfoot:!0,title:"菜单列表"},children:[{path:"addressList",name:"addressList",component:function(){return n.e(0).then(n.bind(null,"BDr/"))},meta:{title:"通讯录",showfoot:!1},children:[{path:"addressDetail/:id",name:"addressDetail",component:function(){return n.e(0).then(n.bind(null,"BjDn"))},meta:{showfoot:!1}}]},{path:"watcher",name:"menuwatcher",component:I,meta:{title:"值班监视",showfoot:!1}},{path:"StaInformation",name:"menuStaInformation",component:$,meta:{title:"投资电站信息",showfoot:!1}},{path:"adminiManual",name:"menuadminiManual",component:M,meta:{title:"管理手册",showfoot:!1}},{path:"water",name:"menuwater",component:i,meta:{title:"枢纽运行",showfoot:!1}},{path:"river",name:"menuRiver",component:r,meta:{title:"流域信息查询",showfoot:!1}},{path:"singleQuery",name:"menuSingleQuery",component:l,meta:{title:"基础数据查询",showfoot:!1},children:[{path:"details",name:"menuSingleDetail",component:function(){return n.e(0).then(n.bind(null,"zOgb"))},meta:{title:"单站详情",showfoot:!1}}]},{path:"composite",name:"menuComposite",component:s,meta:{title:"综合查询",showfoot:!1},children:[{path:"details",name:"menuCompositeDetail",component:function(){return n.e(0).then(n.bind(null,"6BHd"))},meta:{title:"综合详情",showfoot:!1}}]},{path:"curve",name:"menuCurve",component:u,meta:{title:"曲线查询",showfoot:!1},children:[{path:"details",name:"menuCurveDetail",component:function(){return n.e(0).then(n.bind(null,"2ceU"))},meta:{title:"曲线详情",showfoot:!1}}]},{path:"mreport",name:"menuReport",component:c,meta:{title:"报表查询",showfoot:!1},children:[{path:"details/:id",name:"menuReportDetail",component:function(){return n.e(0).then(n.bind(null,"8H1C"))},meta:{title:"报表详情",showfoot:!1}}]},{path:"waterAndElectricity",name:"menuwaterAndElectricity",component:m,meta:{title:"水电概况",showfoot:!1}},{path:"hostWatch",name:"menuhostWatch",component:h,meta:{title:"主机监视",showfoot:!1}},{path:"damMonitor",name:"menudamMonitor",component:d,meta:{title:"大坝监测",showfoot:!1}},{path:"unitData",name:"menuunitData",component:p,meta:{title:"机组数据",showfoot:!1}},{path:"recondition",name:"menurecondition",component:f,meta:{title:"检修工作票",showfoot:!1}},{path:"logBook",name:"menulogBook",component:g,meta:{title:"值班日志",showfoot:!1}},{path:"workManagement",name:"menuworkManagement",component:w,meta:{title:"排班管理",showfoot:!1}},{path:"drinkManagement",name:"menudrinkManagement",component:k,meta:{title:"引水管理",showfoot:!1}},{path:"orderQuery",name:"menuorderQuery",component:v,meta:{title:"闸门命令查询",showfoot:!1}},{path:"orderDetail/:id",name:"menuorderDetail",component:y,meta:{title:"闸门命令详情",showfoot:!1}},{path:"lockGate",name:"menulockGate",component:b,meta:{title:"闸门一览表",showfoot:!1}}]}]};o.default.use(a.a);var _=new a.a(S),C=0;_.beforeEach(function(t,e,n){var o=window.sessionStorage.getItem("logindata");o&&"login"===t.name?n({name:"home"+JSON.parse(o).userConfig.defaultPage.routeName}):o||"login"===t.name||n({name:"login"}),"menu"===e.name&&(C=document.querySelector("#app").scrollTop),n()}),_.afterEach(function(t){var e=document.querySelector("#app");"menu"===t.name?o.default.nextTick(function(){e.scrollTo(0,C)}):o.default.nextTick(function(){e.scrollTo(0,0)})});var D=n("vT+3"),x=n.n(D),L=n("aozt"),T=n.n(L),E=n("Wn42"),P=n.n(E),A=n("5YEj"),V=n.n(A),N=(n("Y96J"),n("7xIN"),n("pa+H"),n("5OHe"),n("5+O1"),{name:"App",data:function(){return{show1:!1,ipconfig:"1.198.9.26",portconfig:"2256",nameconfig:"xldweb",logstate:!1,homeLink:"",homeId:""}},computed:{showreplenish:function(){return!/(login)|(vpn)|(addressDetail)|(videoDetail)/.test(this.$route.name)}},methods:{checkIp:function(){var t=this,e=this.$refs.ipconfig,n=this.$refs.portconfig,o=this.$refs.nameconfig;e.valid?n.valid?o.valid?(window.localStorage.setItem("ip",this.ipconfig),window.localStorage.setItem("port",this.portconfig),window.localStorage.setItem("projectName",this.nameconfig),this.$emit("changeBaseUrl"),this.show1=!1,this.$axios.get("/appuser/getAppInfo.action").then(function(e){t.$store.commit("changeAppTitle",e.data.data.appName),t.$store.commit("initDeviceBauth",e.data.data.deviceBauth)})):this.$dialog.toast({mes:"名称"+o.errorMsg,timeout:1e3,icon:"error"}):this.$dialog.toast({mes:"端口"+n.errorMsg,timeout:1e3,icon:"error"}):this.$dialog.toast({mes:"IP"+e.errorMsg,timeout:1e3,icon:"error"})},islogin:function(){this.logstate=!0,this.homeLink="home"+this.$store.getters.defaultPageName,this.homeId=this.$store.getters.defaultPageId},ischange:function(){this.homeLink="home"+this.$store.getters.defaultPageName,this.homeId=this.$store.getters.defaultPageId}},created:function(){window.localStorage.getItem("ip")&&this.$emit("changeBaseUrl")}}),B={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:t.showreplenish?"fade":""}},[n("keep-alive",[n("router-view",{on:{islogin:t.islogin,changeDefaultPage:t.ischange,changeServer:function(e){t.show1=!0}}})],1)],1),t._v(" "),this.$route.meta.showfoot?n("transition",{attrs:{name:"fade"}},[n("yd-tabbar",{attrs:{fixed:!0}},[t.$store.getters.getMenuConfig.includes("HOME")?n("yd-tabbar-item",{class:"home"===this.$route.path.split("/")[1]?"router-link-active":"",attrs:{title:"首页",link:{name:t.homeLink,query:{menuId:t.homeId}}}},[n("yd-icon",{staticStyle:{"font-size":".54rem"},attrs:{slot:"icon",name:"home",custom:""},slot:"icon"})],1):t._e(),t._v(" "),t.$store.getters.getMenuConfig.includes("MENU")?n("yd-tabbar-item",{class:"menu"===this.$route.path.split("/")[1]?"router-link-active":"",attrs:{title:"菜单",link:"/menu"}},[n("yd-icon",{staticStyle:{"font-size":".54rem"},attrs:{slot:"icon",name:"menu",custom:""},slot:"icon"})],1):t._e(),t._v(" "),t.$store.getters.getMenuConfig.includes("VIDEO")?n("yd-tabbar-item",{attrs:{title:"视频",link:"/video"}},[n("yd-icon",{staticStyle:{"font-size":".54rem"},attrs:{slot:"icon",name:"vedio",custom:""},slot:"icon"})],1):t._e(),t._v(" "),t.$store.getters.getMenuConfig.includes("CAUTION")?n("yd-tabbar-item",{attrs:{title:"警示",link:"/alert"}},[n("yd-icon",{staticStyle:{"font-size":".54rem"},attrs:{slot:"icon",name:"alert",custom:""},slot:"icon"})],1):t._e()],1)],1):t._e(),t._v(" "),n("yd-popup",{attrs:{position:"center","close-on-masker":!0,width:"90%"},model:{value:t.show1,callback:function(e){t.show1=e},expression:"show1"}},[n("yd-cell-group",[n("yd-cell-item",[n("span",{attrs:{slot:"left"},slot:"left"},[t._v("服务 I P ：")]),t._v(" "),n("yd-input",{ref:"ipconfig",attrs:{slot:"right",required:"",placeholder:"请输入ip"},slot:"right",model:{value:t.ipconfig,callback:function(e){t.ipconfig=e},expression:"ipconfig"}})],1),t._v(" "),n("yd-cell-item",[n("span",{attrs:{slot:"left"},slot:"left"},[t._v("服务端口：")]),t._v(" "),n("yd-input",{ref:"portconfig",attrs:{slot:"right",required:"",regex:"^([0-9]|[1-9]\\d{1,3}|[1-5]\\d{4}|6[0-5]{2}[0-3][0-5])$",placeholder:"请输入端口号"},slot:"right",model:{value:t.portconfig,callback:function(e){t.portconfig=e},expression:"portconfig"}})],1),t._v(" "),n("yd-cell-item",[n("span",{attrs:{slot:"left"},slot:"left"},[t._v("服务名称：")]),t._v(" "),n("yd-input",{ref:"nameconfig",attrs:{slot:"right",required:"",regex:"^[a-zA-Z]+$",placeholder:"请输入项目名称"},slot:"right",model:{value:t.nameconfig,callback:function(e){t.nameconfig=e},expression:"nameconfig"}})],1),t._v(" "),n("yd-button",{staticStyle:{margin:"10px"},attrs:{type:"warning"},nativeOn:{click:function(e){return t.checkIp(e)}}},[t._v("更改")])],1)],1)],1)},staticRenderFns:[]};var O=n("C7Lr")(N,B,!1,function(t){n("l8GL")},null,null).exports,z=n("3cXf"),U=n.n(z),H=n("9rMa");o.default.use(H.a);var R=new H.a.Store({state:{logindata:null,timeout:{riverTimeout:null},appTitle:"",deviceBauth:0},getters:{getTeamId:function(t){if(t.logindata)return t.logindata.userConfig.userInfo.teams[0].teamId},defaultPageName:function(t){if(t.logindata)return t.logindata.userConfig.defaultPage.routeName},defaultPageId:function(t){if(t.logindata)return t.logindata.userConfig.defaultPage.menuId},pageConfig:function(t){if(t.logindata)return t.logindata.userConfig.pageConfig},getMenuConfig:function(t){if(t.logindata){var e=[];return t.logindata.userConfig.baseMenuConfigs.forEach(function(t,n){e.push(t.routename)}),e}}},mutations:{datainit:function(t,e){t.logindata=e,window.sessionStorage.setItem("logindata",U()(e))},changeHomePage:function(t,e){t.logindata.userConfig.defaultPage.routeName=e.name,t.logindata.userConfig.defaultPage.menuId=e.id,window.sessionStorage.setItem("logindata",U()(t.logindata))},dataout:function(t){t.logindata=null,window.sessionStorage.setItem("logindata","")},changeAppTitle:function(t,e){t.appTitle=e},initDeviceBauth:function(t,e){t.deviceBauth=e},initShowVideo:function(t,e){t.showVideo=e},initUnit:function(t,e){t.unitData=e},changeWaterType:function(t,e){t.waterType=e}}}),q=n("u7z7");T.a.defaults.timeout=1e4,T.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8";var G=window.sessionStorage.getItem("ip"),Q=window.sessionStorage.getItem("port"),j=window.sessionStorage.getItem("projectName");T.a.defaults.baseURL="http://"+G+":"+Q+"/"+j;var F=function(t,e,n,o){q.Loading.open(o),T.a.get(t,{params:e}).then(function(t){n(t.data),q.Loading.close()}).catch(function(t){q.Loading.close(),console.log(t),Object(q.Alert)({mes:"请求失败！"})})},J=function(t,e,n,o){q.Loading.open(o),T.a.post(t,P.a.stringify(e)).then(function(t){n(t.data),q.Loading.close()}).catch(function(t){q.Loading.close(),console.log(t),Object(q.Alert)({mes:"请求失败！"})})};o.default.prototype.$dynamicColor=function(t){return"rgb("+Math.round(255*(1-t))+", "+Math.round(255*t)+", 0)"},o.default.prototype.$dateFormat=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss",n={M:(t=new Date(t)).getMonth()+1,d:t.getDate(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds(),q:Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};return e=e.replace(/([yMdhmsqS])+/g,function(e,o){var a=n[o];return void 0!==a?(e.length>1&&(a=(a="0"+a).substr(a.length-2)),a):"y"===o?(t.getFullYear()+"").substr(4-e.length):e})},o.default.prototype.$fixTime=function(t){return t=t.replace(/(-)/g,"/"),new Date(t).getTime()},o.default.prototype.$popArray=function(t){var e=t.slice();return e.pop(),e},o.default.prototype.$get=F,o.default.prototype.$post=J;var W=n("wSez"),X={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"no-data"},[e("div",{staticClass:"no-dataimg"}),this._v(" "),e("p",[this._v("找不到相关数据")])])}]};var Y=n("C7Lr")({},X,!1,function(t){n("TnUE")},null,null).exports,K={props:{data:Array,type:{default:"radio"},value:{}},data:function(){return{selectData:null,selectValue:[]}},watch:{value:function(t){"radio"===this.$props.type?this.selectValue=t?[t]:[]:t instanceof Array?this.selectValue=t:this.selectValue=[]}},methods:{selected:function(t){if("radio"===this.$props.type)this.selectValue=[t];else{var e=void 0;this.selectValue.forEach(function(n,o){n===t&&(e=o)}),e||0===e?this.selectValue.splice(e,1):this.selectValue.push(t)}this.$emit("select",this.selectValue)},isActive:function(t){return"radio"===this.$props.type?t===this.selectValue[0]:!!this.selectValue.includes(t)}},created:function(){"radio"===this.$props.type&&this.$props.type&&(this.selectValue=[this.$props.value]),this.$props.value instanceof Array&&this.$props.value.length>0&&(this.selectValue=this.$props.value)}},Z={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"select-group"},t._l(t.data,function(e,o){return n("button",{key:o,class:{active:t.isActive(e.value)},on:{click:function(n){n.stopPropagation(),t.selected(e.value)}}},[t._v(t._s(e.name))])}),0)},staticRenderFns:[]};var tt=n("C7Lr")(K,Z,!1,function(t){n("hR0J")},"data-v-60df7c28",null).exports,et=n("TXIK"),nt=n.n(et);o.default.use(nt.a),o.default.component(W.Cell.name,W.Cell),o.default.component(W.IndexList.name,W.IndexList),o.default.component(W.IndexSection.name,W.IndexSection),o.default.component("no-data",Y),o.default.component("select-button",tt),o.default.use(x.a),o.default.prototype.$echarts=V.a,o.default.prototype.$axios=T.a,o.default.prototype.$qs=P.a,o.default.config.silent=!0,o.default.config.productionTip=!1,document.addEventListener("deviceready",function(){new o.default({el:"#app",router:_,store:R,components:{App:O},template:'<App @changeBaseUrl="changeBaseUrl"/>',methods:{changeBaseUrl:function(){var t=window.localStorage.getItem("ip"),e=window.localStorage.getItem("port"),n=window.localStorage.getItem("projectName");T.a.defaults.baseURL="http://"+t+":"+e+"/"+n}}});var t=0;document.addEventListener("backbutton",function(){var e=(new Date).getSeconds();Math.abs(e-t)>2?(t=e,Object(q.Toast)({mes:"再点击一次退出APP!"})):navigator.app.exitApp()},!1)},!1)},TnUE:function(t,e){},Y96J:function(t,e){},hR0J:function(t,e){},l8GL:function(t,e){},"pa+H":function(t,e){var n,o,a,i,r;n=window,o=n.document,a=o.documentElement,i="orientationchange"in n?"orientationchange":"resize",r=function t(){var e=a.getBoundingClientRect().width;return a.style.fontSize=5*Math.max(Math.min(e/750*20,11.2),8.55)+"px",t}(),a.setAttribute("data-dpr",n.navigator.appVersion.match(/iphone/gi)?n.devicePixelRatio:1),/iP(hone|od|ad)/.test(n.navigator.userAgent)&&(o.documentElement.classList.add("ios"),parseInt(n.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)[1],10)>=8&&o.documentElement.classList.add("hairline")),o.addEventListener&&(n.addEventListener(i,r,!1),o.addEventListener("DOMContentLoaded",r,!1))}},["NHnr"]);
//# sourceMappingURL=app.0edc32b14e1345669acb.js.map